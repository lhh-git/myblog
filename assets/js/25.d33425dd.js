(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{389:function(n,e,a){"use strict";a.r(e);var s=a(45),t=Object(s.a)({},(function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h2",{attrs:{id:"问题原因"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题原因"}},[n._v("#")]),n._v(" 问题原因:")]),n._v(" "),a("p",[n._v("因为splice每次删除都会改变原数组的长度，所以导致数组中的元素位置发生改变，从而导致只能删除部分数据")]),n._v(" "),a("h2",{attrs:{id:"解决方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[n._v("#")]),n._v(" 解决方法：")]),n._v(" "),a("h3",{attrs:{id:"_1-倒序删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-倒序删除"}},[n._v("#")]),n._v(" 1. 倒序删除")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("let arr = [\n  { id:1, name:'Tom', sex:0 }, \n  { id:2, name:'Jerry', sex:1 }, \n  { id:3, name:'Danny', sex:1 }, \n  { id:4, name:'Jenny', sex:0 }, \n  { id:6, name:'Lee', sex:0 }, \n  { id:5, name:'Bob', sex:1 }, \n  { id:7, name:'John', sex:0 }, \n  { id:8, name:'Marry', sex:1 }\n];\n\nfor (let i = arr.length - 1; i >= 0; i--) {\n  if (arr[i].sex === 1){\n    arr.splice(i, 1);\n  }\n}\n\nconsole.log(arr)\n/* \n  [\n    { id: 1, name: 'Tom', sex: 0 },\n    { id: 4, name: 'Jenny', sex: 0 },\n    { id: 6, name: 'Lee', sex: 0 },\n    { id: 7, name: 'John', sex: 0 }\n  ]\n*/\n")])])]),a("h3",{attrs:{id:"_2-下标减1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-下标减1"}},[n._v("#")]),n._v(" 2. 下标减1")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("let arr = [\n  { id:1, name:'Tom', sex:0 }, \n  { id:2, name:'Jerry', sex:1 }, \n  { id:3, name:'Danny', sex:1 }, \n  { id:4, name:'Jenny', sex:0 }, \n  { id:6, name:'Lee', sex:0 }, \n  { id:5, name:'Bob', sex:1 }, \n  { id:7, name:'John', sex:0 }\n];\n\nfor (let i = 0; i < arr.length; i++) {\n\tif (arr[i].sex === 1) {\n    // 将使后面的元素依次前移，数组长度减1 \n\t\tarr.splice(i, 1)                         \n    /*\n      因为数组本身变了，长度变了，数组元素向前移了一步，所以循环也要往前移一步\n      如果不减，将漏掉一个元素\n    */\n    i--                           \n\t}\n}\n\nconsole.log(arr)\n/* \n  [\n    { id: 1, name: 'Tom', sex: 0 },\n    { id: 4, name: 'Jenny', sex: 0 },\n    { id: 6, name: 'Lee', sex: 0 },\n    { id: 7, name: 'John', sex: 0 }\n  ]\n*/\n")])])])])}),[],!1,null,null,null);e.default=t.exports}}]);